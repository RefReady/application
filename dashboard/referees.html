<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Referees - RefReady Club Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="dashboard.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🏐</text></svg>">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="dashboard-logo">
                <span class="logo-icon">🏐</span>
                <span class="logo-text">RefReady</span>
                <span class="dashboard-subtitle">Club Dashboard</span>
            </div>
            <div class="dashboard-user">
                <div class="user-info">
                    <div class="user-name" id="club-name">Loading...</div>
                    <div class="user-role" id="club-role">Club Administrator</div>
                </div>
                <button class="logout-btn" onclick="logout()">Logout</button>
            </div>
        </header>

        <div class="dashboard-main">
            <!-- Sidebar -->
            <nav class="dashboard-sidebar">
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="overview.html" class="nav-link">
                            <span class="nav-icon">📊</span>
                            <span>Overview</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="referees.html" class="nav-link active">
                            <span class="nav-icon">👥</span>
                            <span>Referees</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="mentors.html" class="nav-link">
                            <span class="nav-icon">🤝</span>
                            <span>Mentors</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="safety.html" class="nav-link">
                            <span class="nav-icon">🆘</span>
                            <span>Safety Alerts</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="reports.html" class="nav-link">
                            <span class="nav-icon">📋</span>
                            <span>Reports</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="settings.html" class="nav-link">
                            <span class="nav-icon">⚙️</span>
                            <span>Settings</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <!-- Main Content -->
            <main class="dashboard-content">
                <!-- Page Title -->
                <div class="page-header">
                    <h1 class="page-title">Referee Management</h1>
                    <p class="page-subtitle">Manage your club's referees, track progress, and support development</p>
                </div>

                <!-- Referee Stats -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon">👥</div>
                        <div class="metric-content">
                            <div class="metric-number" id="total-referees">0</div>
                            <div class="metric-label">Total Referees</div>
                            <div class="metric-change">Getting started</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">🎯</div>
                        <div class="metric-content">
                            <div class="metric-number" id="active-referees">0</div>
                            <div class="metric-label">Active This Month</div>
                            <div class="metric-change">Getting started</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">📈</div>
                        <div class="metric-content">
                            <div class="metric-number" id="avg-confidence">-</div>
                            <div class="metric-label">Average Confidence</div>
                            <div class="metric-change">No data yet</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">🎖️</div>
                        <div class="metric-content">
                            <div class="metric-number" id="badges-earned">24</div>
                            <div class="metric-label">Badges Earned</div>
                            <div class="metric-change positive">+5 this month</div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h2 class="section-title">Referee Actions</h2>
                    <div class="actions-grid">
                        <div class="action-card" onclick="showInviteReferee()">
                            <div class="action-icon">📧</div>
                            <div class="action-content">
                                <h3>Invite New Referee</h3>
                                <p>Send invitation to join your club</p>
                            </div>
                        </div>
                        <div class="action-card" onclick="showBulkMessage()">
                            <div class="action-icon">📢</div>
                            <div class="action-content">
                                <h3>Send Announcement</h3>
                                <p>Message all referees at once</p>
                            </div>
                        </div>
                        <div class="action-card" onclick="showProgressReport()">
                            <div class="action-icon">📊</div>
                            <div class="action-content">
                                <h3>Progress Report</h3>
                                <p>Generate development reports</p>
                            </div>
                        </div>
                        <div class="action-card" onclick="showTrainingSchedule()">
                            <div class="action-icon">📅</div>
                            <div class="action-content">
                                <h3>Schedule Training</h3>
                                <p>Organize development sessions</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Referee List -->
                <div class="referee-list">
                    <div class="list-header">
                        <h2 class="section-title">All Referees</h2>
                        <div class="list-controls">
                            <div class="search-box">
                                <input type="text" id="referee-search" placeholder="Search referees by name, level, or mentor..." onkeyup="filterReferees()">
                            </div>
                            <div class="filter-dropdown">
                                <select id="referee-filter" onchange="filterReferees()">
                                    <option value="all">All Referees</option>
                                    <option value="active">Active</option>
                                    <option value="newcomer">Newcomer</option>
                                    <option value="developing">Developing</option>
                                    <option value="experienced">Experienced</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="referee-table-container">
                        <table class="referee-table" id="referee-table">
                            <thead>
                                <tr>
                                    <th>Referee</th>
                                    <th>Level</th>
                                    <th>Games</th>
                                    <th>Confidence</th>
                                    <th>Badges</th>
                                    <th>Mentor</th>
                                    <th>Last Active</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="referee-tbody">
                                <tr id="no-referees-message">
                                    <td colspan="8" style="text-align: center; padding: 40px; color: #666;">
                                        <div style="font-size: 3em; margin-bottom: 10px;">🏐</div>
                                        <h3>No Referees Yet</h3>
                                        <p>Your club doesn't have any referees registered yet. Start by inviting new referees to join your program.</p>
                                        <button class="btn btn-primary" onclick="showInviteReferee()">Invite Your First Referee</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="dashboard.js"></script>
    <script>
        // Initialize referees page
        document.addEventListener('DOMContentLoaded', function() {
            initializeDashboard();
        });

        // Filter referees function
        function filterReferees() {
            const searchTerm = document.getElementById('referee-search').value.toLowerCase();
            const filterLevel = document.getElementById('referee-filter').value;
            const refereeRows = document.querySelectorAll('.referee-row');

            refereeRows.forEach(row => {
                const refereeName = row.querySelector('.referee-name').textContent.toLowerCase();
                const refereeLevel = row.dataset.level;
                const mentor = row.cells[5].textContent.toLowerCase(); // Mentor column
                
                const matchesSearch = refereeName.includes(searchTerm) || 
                                    refereeLevel.includes(searchTerm) || 
                                    mentor.includes(searchTerm);
                
                const matchesFilter = filterLevel === 'all' || 
                                    refereeLevel === filterLevel ||
                                    (filterLevel === 'active' && true); // All shown referees are active
                
                if (matchesSearch && matchesFilter) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }

        // Show invite referee modal
        function showInviteReferee() {
            showNotification('Invite referee feature coming soon!', 'info');
        }

        // Show bulk message modal
        function showBulkMessage() {
            showNotification('Bulk messaging feature coming soon!', 'info');
        }

        // Show progress report
        function showProgressReport() {
            showNotification('Progress report generation coming soon!', 'info');
        }

        // Show training schedule
        function showTrainingSchedule() {
            showNotification('Training schedule feature coming soon!', 'info');
        }

        // View referee profile
        function viewRefereeProfile(refereeId) {
            showNotification(`Viewing ${refereeId}'s profile - detailed view coming soon!`, 'info');
        }
    </script>
</body>
</html> 