<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safety Alerts - RefReady Club Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="dashboard.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üèê</text></svg>">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="dashboard-logo">
                <span class="logo-icon">üèê</span>
                <span class="logo-text">RefReady</span>
                <span class="dashboard-subtitle">Club Dashboard</span>
            </div>
            <div class="dashboard-user">
                <div class="user-info">
                    <div class="user-name" id="club-name">Loading...</div>
                    <div class="user-role" id="club-role">Club Administrator</div>
                </div>
                <button class="logout-btn" onclick="logout()">Logout</button>
            </div>
        </header>

        <div class="dashboard-main">
            <!-- Sidebar -->
            <nav class="dashboard-sidebar">
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="overview.html" class="nav-link">
                            <span class="nav-icon">üìä</span>
                            <span>Overview</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="referees.html" class="nav-link">
                            <span class="nav-icon">üë•</span>
                            <span>Referees</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="mentors.html" class="nav-link">
                            <span class="nav-icon">ü§ù</span>
                            <span>Mentors</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="safety.html" class="nav-link active">
                            <span class="nav-icon">üÜò</span>
                            <span>Safety Alerts</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="reports.html" class="nav-link">
                            <span class="nav-icon">üìã</span>
                            <span>Reports</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="settings.html" class="nav-link">
                            <span class="nav-icon">‚öôÔ∏è</span>
                            <span>Settings</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <!-- Main Content -->
            <main class="dashboard-content">
                <!-- Page Title -->
                <div class="page-header">
                    <h1 class="page-title">Safety Alert Management</h1>
                    <p class="page-subtitle">Monitor safety incidents, track follow-ups, and maintain compliance</p>
                </div>

                <!-- Safety Stats -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon">üÜò</div>
                        <div class="metric-content">
                            <div class="metric-number" id="total-alerts">3</div>
                            <div class="metric-label">Total Alerts</div>
                            <div class="metric-change neutral">This month</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">‚ö†Ô∏è</div>
                        <div class="metric-content">
                            <div class="metric-number" id="active-alerts">1</div>
                            <div class="metric-label">Active Alerts</div>
                            <div class="metric-change neutral">Requires attention</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">‚úÖ</div>
                        <div class="metric-content">
                            <div class="metric-number" id="resolved-alerts">2</div>
                            <div class="metric-label">Resolved Alerts</div>
                            <div class="metric-change positive">This month</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üìû</div>
                        <div class="metric-content">
                            <div class="metric-number" id="parent-contacts">5</div>
                            <div class="metric-label">Parent Contacts</div>
                            <div class="metric-change neutral">This month</div>
                        </div>
                    </div>
                </div>

                <!-- Safety Status Overview -->
                <div class="safety-status">
                    <h2 class="section-title">Safety Status Overview</h2>
                    <div class="safety-cards">
                        <div class="safety-card status-good">
                            <div class="safety-icon">üü¢</div>
                            <div class="safety-content">
                                <h3>Overall Safety Status</h3>
                                <p>Good - No critical incidents this month</p>
                                <div class="safety-stats">
                                    <span>Last incident: 2 weeks ago</span>
                                </div>
                            </div>
                        </div>
                        <div class="safety-card status-attention">
                            <div class="safety-icon">üü°</div>
                            <div class="safety-content">
                                <h3>Follow-Up Required</h3>
                                <p>1 incident requires administrator attention</p>
                                <div class="safety-stats">
                                    <span>Priority: Medium</span>
                                </div>
                            </div>
                        </div>
                        <div class="safety-card status-good">
                            <div class="safety-icon">üìã</div>
                            <div class="safety-content">
                                <h3>Compliance Status</h3>
                                <p>All safety protocols up to date</p>
                                <div class="safety-stats">
                                    <span>Last review: 1 week ago</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h2 class="section-title">Safety Actions</h2>
                    <div class="actions-grid">
                        <div class="action-card" onclick="showNewIncident()">
                            <div class="action-icon">üìù</div>
                            <div class="action-content">
                                <h3>Report Incident</h3>
                                <p>Manual incident reporting</p>
                            </div>
                        </div>
                        <div class="action-card" onclick="showParentContact()">
                            <div class="action-icon">üìû</div>
                            <div class="action-content">
                                <h3>Contact Parent</h3>
                                <p>Send safety communication</p>
                            </div>
                        </div>
                        <div class="action-card" onclick="showSafetyTraining()">
                            <div class="action-icon">üéì</div>
                            <div class="action-content">
                                <h3>Safety Training</h3>
                                <p>Schedule safety sessions</p>
                            </div>
                        </div>
                        <div class="action-card" onclick="showComplianceReport()">
                            <div class="action-icon">üìä</div>
                            <div class="action-content">
                                <h3>Compliance Report</h3>
                                <p>Generate safety reports</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Safety Alerts -->
                <div class="alerts-list">
                    <div class="list-header">
                        <h2 class="section-title">Recent Safety Alerts</h2>
                        <div class="list-controls">
                            <div class="filter-dropdown">
                                <select id="alert-filter" onchange="filterAlerts()">
                                    <option value="all">All Alerts</option>
                                    <option value="active">Active</option>
                                    <option value="resolved">Resolved</option>
                                    <option value="high">High Priority</option>
                                    <option value="medium">Medium Priority</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="alerts-grid" id="alerts-grid">
                        <div style="text-align: center; padding: 60px 20px; color: #666; grid-column: 1 / -1;">
                            <div style="font-size: 3em; margin-bottom: 15px;">üõ°Ô∏è</div>
                            <h3>No Safety Alerts</h3>
                            <p>Great news! Your club has no active safety concerns. Safety alerts will appear here if any issues are reported by referees.</p>
                            <div style="margin-top: 20px;">
                                <button class="btn btn-outline" onclick="showReportIncident()">Report New Incident</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Safety Protocols -->
                <div class="safety-protocols">
                    <h2 class="section-title">Safety Protocols</h2>
                    <div class="protocol-grid">
                        <div class="protocol-card">
                            <div class="protocol-icon">üìã</div>
                            <div class="protocol-content">
                                <h3>Emergency Procedures</h3>
                                <p>Clear steps for handling safety emergencies</p>
                                <div class="protocol-status">
                                    <span class="status-indicator current">Current</span>
                                    <span class="last-updated">Updated: 2 weeks ago</span>
                                </div>
                            </div>
                        </div>
                        <div class="protocol-card">
                            <div class="protocol-icon">üìû</div>
                            <div class="protocol-content">
                                <h3>Parent Communication</h3>
                                <p>Guidelines for safety-related parent contact</p>
                                <div class="protocol-status">
                                    <span class="status-indicator current">Current</span>
                                    <span class="last-updated">Updated: 1 week ago</span>
                                </div>
                            </div>
                        </div>
                        <div class="protocol-card">
                            <div class="protocol-icon">üéì</div>
                            <div class="protocol-content">
                                <h3>Safety Training</h3>
                                <p>Mandatory safety training for all referees</p>
                                <div class="protocol-status">
                                    <span class="status-indicator current">Current</span>
                                    <span class="last-updated">Updated: 3 days ago</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="dashboard.js"></script>
    <script>
        // Initialize safety page
        document.addEventListener('DOMContentLoaded', function() {
            initializeDashboard();
        });

        // Filter alerts function
        function filterAlerts() {
            const filterValue = document.getElementById('alert-filter').value;
            const alertCards = document.querySelectorAll('.alert-card');

            alertCards.forEach(card => {
                const status = card.dataset.status;
                const priority = card.dataset.priority;
                
                let shouldShow = false;
                
                switch(filterValue) {
                    case 'all':
                        shouldShow = true;
                        break;
                    case 'active':
                        shouldShow = status === 'active';
                        break;
                    case 'resolved':
                        shouldShow = status === 'resolved';
                        break;
                    case 'high':
                        shouldShow = priority === 'high';
                        break;
                    case 'medium':
                        shouldShow = priority === 'medium';
                        break;
                }
                
                card.style.display = shouldShow ? 'block' : 'none';
            });
        }

        // Show new incident modal
        function showNewIncident() {
            showNotification('Manual incident reporting feature coming soon!', 'info');
        }

        // Show parent contact modal
        function showParentContact() {
            showNotification('Parent contact feature coming soon!', 'info');
        }

        // Show safety training
        function showSafetyTraining() {
            showNotification('Safety training feature coming soon!', 'info');
        }

        // Show compliance report
        function showComplianceReport() {
            showNotification('Compliance report feature coming soon!', 'info');
        }

        // Follow up on alert
        function followUpAlert(alertId) {
            showNotification(`Following up on alert ${alertId} - feature coming soon!`, 'info');
        }

        // Contact parent about alert
        function contactParent(alertId) {
            showNotification(`Contacting parent about alert ${alertId} - feature coming soon!`, 'info');
        }

        // View alert details
        function viewAlertDetails(alertId) {
            showNotification(`Viewing details for alert ${alertId} - feature coming soon!`, 'info');
        }
    </script>
</body>
</html> 